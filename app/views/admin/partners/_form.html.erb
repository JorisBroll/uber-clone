<!-- Javascript -->
<script>
	init.push(function () {
		$("#partner_phone").mask("99.99.99.99.99");
		$("#partner_company_code").mask("999 999 999 99999");

		// Setup validation
		$("#edit_partner_1").validate({
			ignore: '.ignore, .select2-input',
			focusInvalid: false,
			rules: {
				'partner[name]': {
				  required: true
				},
				'partner[email]': {
				  required: true,
				  email: true
				},
				'partner[phone]': {
					required: true,
					phone_format: true
				}
			}
		});
	});

init.push(function () {
	// Single select
	$("#promocode_effect_type,#promocode_effect_length").select2({
		allowClear: true,
		placeholder: "Select a State"
	});
});

</script>
<!-- / Javascript -->

<div class="panel">
	<div class="panel-heading">
		<span class="panel-title">Entreprise partenaire</span>
	</div>
	<div class="panel-body">

		<%= form_for [:admin, @partner] do |f| %>		
			<%= render 'common/error_messages', object: f.object %>

			<div class="form-group">
				<%= f.label :name, class: "col-sm-3 control-label" %>
				<div class="col-sm-9">
					<%= f.text_field :name, class: "form-control", :placeholder => "Nom" %>
				</div>
			</div>

			<div class="form-group">
				<%= f.label :email, class: "col-sm-3 control-label" %>
				<div class="col-sm-9">
					<%= f.text_field :email, class: "form-control", :placeholder => "Email" %>
				</div>
			</div>

			<div class="form-group">
				<%= f.label :phone, class: "col-sm-3 control-label" %>
				<div class="col-sm-9">
					<%= f.text_field :phone, class: "form-control", :placeholder => "Téléphone" %>
				</div>
			</div>

			<div class="form-group">
				<%= f.label :address, class: "col-sm-3 control-label" %>
				<div class="col-sm-9">
					<%= f.text_field :address, class: "form-control", :placeholder => "Adresse" %>
				</div>
			</div>

			<div class="form-group">
				<%= f.label :postcode, class: "col-sm-3 control-label" %>
				<div class="col-sm-9">
					<%= f.text_field :postcode, class: "form-control", :placeholder => "Code postal" %>
				</div>
			</div>

			<div class="form-group">
				<%= f.label :company_code, class: "col-sm-3 control-label" %>
				<div class="col-sm-9">
					<%= f.text_field :company_code, class: "form-control", :placeholder => "Siret" %>
				</div>
			</div>

			<div class="form-group">
				<%= f.label :note, class: "col-sm-3 control-label" %>
				<div class="col-sm-9">
					<%= f.text_area :note, class: "form-control", :placeholder => "Note" %>
				</div>
			</div>
	</div>
	<div class="panel-footer text-right">
		<a class="btn btn-flat btn-danger" href="<%= admin_partners_path %>">Annuler</a>
		<%= f.submit action, class: "btn btn-primary btn-flat" %>
			<% end %>
	</div>
</div>	